{
  "hash": "d3d1ff2b522e68f851a1e5958587f948",
  "result": {
    "markdown": "---\ntitle: \"Retrieve Pubmed publications using the RefManageR package\"\ndate: \"4/13/2023\"\ndate-modified: today\neditor_options: \n  chunk_output_type: console\n---\n\n\n\n\nFor anyone that's working in academia, it may be useful to keep a tabulation of all of the publications that you are a co-author of. We can use the `RefManageR` package, which includes a function (`ReadPubMed()`) that allows us to query the PubMed API for publications based on a PubMed query.\n\nBelow I generate a PubMed query `q` that would query PubMed for publications that involves `Luu, Michael` as an author with a `Cedars-Sinai` affiliation. I then pass this query into the `ReadPubMed()` function and save the results as `pm`. The output is a `BibEntry` object that can be further coerced into a tibble.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nq <- '(Luu, Michael[Author]) AND (Cedars-Sinai[Affiliation])'\n\npm <- RefManageR::ReadPubMed(q, retmax = 999)\n  \nout <- pm |> as_tibble()\n\nglimpse(out)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 68\nColumns: 15\n$ bibtype    <chr> \"Article\", \"Article\", \"Article\", \"Article\", \"Article\", \"Art…\n$ title      <chr> \"Concurrent prognostic utility of lymph node count and lymp…\n$ author     <chr> \"John M Masterson and Michael Luu and Aurash Naser-Tavakoli…\n$ year       <chr> \"2023\", \"2022\", \"2023\", \"2022\", \"2022\", \"2022\", \"2022\", \"20…\n$ month      <chr> \"Jan\", \"Nov\", \"Apr\", \"Aug\", \"Oct\", \"Jul\", \"Aug\", \"Jul\", \"Ma…\n$ journal    <chr> \"Prostate cancer and prostatic diseases\", \"NPJ breast cance…\n$ eprint     <chr> \"36600045\", \"36402796\", \"36385470\", \"36054029\", \"35997126\",…\n$ doi        <chr> \"10.1038/s41391-022-00635-1\", \"10.1038/s41523-022-00489-9\",…\n$ language   <chr> \"eng\", \"eng\", \"eng\", \"eng\", \"eng\", \"eng\", \"eng\", \"eng\", \"en…\n$ issn       <chr> \"1476-5608\", \"2374-4677\", \"1531-4995\", \"1531-4995\", \"1097-0…\n$ abstract   <chr> \"BACKGROUND: While both the number (+LN) and density (LND) …\n$ eprinttype <chr> \"pubmed\", \"pubmed\", \"pubmed\", \"pubmed\", \"pubmed\", \"pubmed\",…\n$ volume     <chr> NA, \"8\", \"133\", NA, \"128\", \"113\", \"208\", \"114\", \"165\", \"40\"…\n$ number     <chr> NA, \"1\", \"4\", NA, \"20\", \"4\", \"2\", \"7\", \"2\", \"4\", \"1\", \"1\", …\n$ pages      <chr> NA, \"123\", \"E25\", NA, \"3610-3619\", \"787-795\", \"301-308\", \"1…\n```\n:::\n\n```{.r .cell-code}\nout\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 68 × 15\n   bibtype title author year  month journal eprint doi   language issn  abstract\n   <chr>   <chr> <chr>  <chr> <chr> <chr>   <chr>  <chr> <chr>    <chr> <chr>   \n 1 Article Conc… John … 2023  Jan   Prosta… 36600… 10.1… eng      1476… \"BACKGR…\n 2 Article Toxi… N Lyn… 2022  Nov   NPJ br… 36402… 10.1… eng      2374… \"Adjuva…\n 3 Article In R… Eric … 2023  Apr   The La… 36385… 10.1… eng      1531…  <NA>   \n 4 Article Pred… Eric … 2022  Aug   The La… 36054… 10.1… eng      1531… \"BACKGR…\n 5 Article Disp… Yi-Te… 2022  Oct   Cancer  35997… 10.1… eng      1097… \"BACKGR…\n 6 Article Noda… Diana… 2022  Jul   Intern… 35395… 10.1… eng      1879… \"PURPOS…\n 7 Article Vari… Timot… 2022  Aug   The Jo… 35377… 10.1… eng      1527… \"PURPOS…\n 8 Article Quan… Antho… 2022  Jul   Journa… 35311… 10.1… eng      1460… \"BACKGR…\n 9 Article Path… Eric … 2022  May   Gyneco… 35216… 10.1… eng      1095… \"PURPOS…\n10 Article Pred… Paige… 2022  Apr   Urolog… 35067… 10.1… eng      1873… \"BACKGR…\n# ℹ 58 more rows\n# ℹ 4 more variables: eprinttype <chr>, volume <chr>, number <chr>, pages <chr>\n```\n:::\n:::\n\n\nNow that we have this information into a tibble, we can further visualize the frequency of occurrences among the list of co-authors using a word cloud\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_data <- out |>\n  select(author) |>\n  separate_wider_delim(\n    author,\n    names = paste0('author', 1:20),\n    delim = ' and ',\n    too_few = 'align_start'\n  ) |>\n  mutate(i = row_number()) |>\n  pivot_longer(contains('author')) |>\n  filter(!is.na(value)) |> \n  count(value) |> \n  arrange(desc(n)) |> \n  filter(value != 'Michael Luu')\n\nset.seed(1)\nggplot(plot_data, aes(label = value, size = n)) +\n  geom_text_wordcloud_area() +\n  scale_size_area(max_size = 16) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=100%}\n:::\n:::\n\n\n# Session info\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsessionInfo()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nR version 4.2.2 (2022-10-31 ucrt)\nPlatform: x86_64-w64-mingw32/x64 (64-bit)\nRunning under: Windows 10 x64 (build 22621)\n\nMatrix products: default\n\nlocale:\n[1] LC_COLLATE=English_United States.utf8 \n[2] LC_CTYPE=English_United States.utf8   \n[3] LC_MONETARY=English_United States.utf8\n[4] LC_NUMERIC=C                          \n[5] LC_TIME=English_United States.utf8    \n\nattached base packages:\n[1] stats     graphics  grDevices datasets  utils     methods   base     \n\nother attached packages:\n [1] ggwordcloud_0.5.0 RefManageR_1.4.0  lubridate_1.9.2   forcats_1.0.0    \n [5] stringr_1.5.0     dplyr_1.1.1       purrr_1.0.1       readr_2.1.4      \n [9] tidyr_1.3.0       tibble_3.2.1      ggplot2_3.4.2     tidyverse_2.0.0  \n\nloaded via a namespace (and not attached):\n [1] tidyselect_1.2.0  xfun_0.38         colorspace_2.1-0  vctrs_0.6.1      \n [5] generics_0.1.3    htmltools_0.5.4   yaml_2.3.6        utf8_1.2.3       \n [9] rlang_1.1.0       pillar_1.9.0      glue_1.6.2        withr_2.5.0      \n[13] lifecycle_1.0.3   plyr_1.8.8        munsell_0.5.0     gtable_0.3.3     \n[17] htmlwidgets_1.6.2 evaluate_0.19     labeling_0.4.2    knitr_1.41       \n[21] tzdb_0.3.0        fastmap_1.1.0     curl_5.0.0        fansi_1.0.4      \n[25] Rcpp_1.0.10       renv_0.16.0       scales_1.2.1      backports_1.4.1  \n[29] jsonlite_1.8.4    farver_2.1.1      hms_1.1.3         png_0.1-8        \n[33] digest_0.6.31     stringi_1.7.8     grid_4.2.2        bibtex_0.5.1     \n[37] cli_3.6.1         tools_4.2.2       magrittr_2.0.3    pkgconfig_2.0.3  \n[41] xml2_1.3.3        timechange_0.2.0  rmarkdown_2.19    httr_1.4.5       \n[45] rstudioapi_0.14   R6_2.5.1          compiler_4.2.2   \n```\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}